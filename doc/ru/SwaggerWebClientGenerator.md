# üß© Swagger WebClient Generator

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

`SwaggerGenerateWebClientStartupTask` ‚Äî —ç—Ç–æ **—Å—Ç–∞—Ä—Ç–∞–ø-—Ç–∞—Å–∫** –¥–ª—è ASP.NET Core, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ **–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç TypeScript-–∫–ª–∏–µ–Ω—Ç–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–∏—Ö API.

–û–Ω –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** (`ASPNETCORE_ENVIRONMENT=Development`) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [
`swagger-typescript-api`](https://github.com/acacode/swagger-typescript-api) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–∞—Å–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ API-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   `appsettings.Development.json`
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ API:
    - –ü–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π Swagger-–¥–æ–∫—É–º–µ–Ω—Ç.
    - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –µ–≥–æ —Å —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º JSON (–ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É).
    - –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é TypeScript-–∫–ª–∏–µ–Ω—Ç–∞.
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `npx swagger-typescript-api generate` –≤–æ –≤–Ω–µ—à–Ω–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ.
4. –í—Å–µ –ª–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (`stdout` –∏ `stderr`) –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ `ILogger`.

---

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `appsettings.Development.json`

```json
{
  "ApiGenerationSettings": [
    {
      "DocumentName": "base",
      "OutputPath": "./projects/oip-common/src/api"
    },
    {
      "DocumentName": "v1",
      "OutputPath": "./projects/oip/src/api"
    }
  ]
}
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Backend (C#)

–î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ NuGet-–ø–∞–∫–µ—Ç—ã:

```bash
dotnet add package Swashbuckle.AspNetCore.Swagger
dotnet add package Microsoft.OpenApi
```

### Frontend (Node.js)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

```bash
cd ../Oip.WebClient
npm install swagger-typescript-api --save-dev
```

–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ:

```bash
npm install -g swagger-typescript-api
```

---

## üß† –ö–ª—é—á–µ–≤—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞—Å–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É:

```bash
npx swagger-typescript-api generate   -p <swagger.json>   -o <outputPath>   --unwrap-response-data   --extract-enums   --extract-responses   --extract-request-body   --extract-request-params   --modular   --module-name-first-tag   --t ./templates
```

üîπ `--t ./templates` ‚Äî –ø—É—Ç—å –∫ –∫–∞—Å—Ç–æ–º–Ω—ã–º —à–∞–±–ª–æ–Ω–∞–º (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).  
üîπ `--unwrap-response-data` ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª–µ–∑–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏–∑ API-–æ—Ç–≤–µ—Ç–æ–≤.  
üîπ `--extract-*` —Ñ–ª–∞–≥–∏ ‚Äî –≤—ã–Ω–æ—Å—è—Ç –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, —Ç–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.

---

## üß© –ü–∞–ø–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ (`templates`)

–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–ª–∏ —Å—Ç–∏–ª—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –¥–æ–±–∞–≤–∏–≤ —Å–≤–æ–∏ —à–∞–±–ª–æ–Ω—ã –≤ `Oip.WebClient/templates`.  
–§–æ—Ä–º–∞—Ç —à–∞–±–ª–æ–Ω–æ–≤ ‚Äî —Ç–æ—Ç –∂–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `swagger-typescript-api` (Handlebars, `.hbs`).

---
